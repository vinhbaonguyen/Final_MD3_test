<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quản lý Khóa Học</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .sidebar {
            background-color: #f0f0f0;
            min-height: 100vh;
            padding: 20px;
        }
        .sidebar .nav-link {
            background-color: #6c757d;
            color: #fff;
            margin-bottom: 5px;
        }
        .sidebar .nav-link.active {
            background-color: #dc3545;
        }
        .content-wrapper {
            padding: 20px;
        }
        .table th, .table td {
            vertical-align: middle;
            text-align: center;
        }
        .btn-sua {
            background-color: #00bfff;
            color: white;
        }
        .btn-xoa {
            background-color: #ff6600;
            color: white;
        }
        .pagination .page-link.active {
            background-color: #198754;
            border-color: #198754;
            color: #fff;
        }
    </style>
</head>
<body>

<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-2 sidebar">
            <h6 class="text-center border p-1">Logo Rikkei Academy</h6>
            <p class="text-center fst-italic small">Để nông dân biết Code</p>
            <div class="nav flex-column">
                <a href="/course" class="nav-link active">Quản lý Khóa Học</a>
                <a href="/student" class="nav-link">Quản lý Học Sinh</a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="col-10 content-wrapper">
            <!-- Header -->
            <div class="d-flex justify-content-between align-items-center border-bottom pb-2 mb-3">
                <h5 class="fw-bold">HỆ THỐNG QUẢN LÝ Khóa Học</h5>
                <button class="btn btn-light">Đăng xuất</button>
            </div>

            <!-- Tiêu đề -->
            <h6 class="text-center mb-3 fw-bold">QUẢN LÝ Khóa Học</h6>

            <!-- Toolbar -->
            <div class="d-flex flex-wrap gap-2 mb-3">
                <a class="btn btn-success btn-sm" href="course/new">Thêm mới</a>
                <form action="/course" method="get">
                    <input type="text" name="keyword" class="form-control form-control-sm w-auto" placeholder="Nhập tên danh mục">
                    <button type="submit" class="btn btn-secondary btn-sm">Tìm kiếm</button>
                </form>
                <div class="ms-auto d-flex align-items-center gap-2">
                    <span>Sắp xếp</span>
                    <select class="form-select form-select-sm w-auto">
                        <option selected>Theo tên</option>
                        <option value="1">Theo trạng thái</option>
                    </select>
                </div>
            </div>

            <!-- Bảng -->
            <table class="table table-bordered table-sm">
                <thead class="table-primary">
                <tr>
                    <th>ID</th>
                    <th>Tên Course</th>
                    <th>Mô tả</th>
                    <th>Hành động</th>
                </tr>
                </thead>
                <tbody>
                <!-- Dữ liệu mẫu -->
                <tr th:each="c : ${course}">
                    <td th:text="${c.id}"></td>
                    <td th:text="${c.name}">Điện tử</td>
                    <td th:text="${c.description}">Danh mục sản phẩm điện tử</td>

                    <td>
                        <a class="btn btn-warning btn-sm" th:href="|/course/edit/${c.id}|">Sửa</a>
                        <a class="btn btn-danger btn-sm" th:href="|/course/delete/${c.id}|" onclick="return confirm('Bạn co chắc chan muon xoa ko')">Xóa</a>
                    </td>
                </tr>

                </tbody>
            </table>

            <!-- Pagination -->
            <nav class="mt-3">
                <ul class="pagination justify-content-center">
                    <li th:if="${page>0}" class="page-item"><a class="page-link" th:href="|/course?page=${page+-1}&size=${size}|">Prev</a></li>
                    <li  th:each="p,loop: ${#numbers.sequence(1,totalPages)}" th:class="|page-item ${loop.index==page?'active':''}|"><a class="page-link" th:href="|/course?page=${loop.index}&size=${size}|" th:text="${loop.count}">2</a></li>
                    <li th:if="${page+1<totalPages}" class="page-item"><a class="page-link" th:href="|/course?page=${page+1}&size=${size}|">Next</a></li>
                </ul>
            </nav>

            <footer class="text-center mt-4 text-muted small">
                Copyright Rikkei Academy ©2023
            </footer>
        </div>
    </div>
</div>
<script th:if="${error!=null}">
    alert("Không thể xóa danh mục này vì chứa sản phẩm")
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
